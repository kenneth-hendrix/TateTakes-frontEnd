<div class="formContainer">
  <span class="autosave">{{ autosaveText }}</span>
  <form [formGroup]="postForm" (ngSubmit)="submitNewPost()">
    <div class="titleContainer">
      <span class="formTitle">
        <i class="paragraph-icon"></i>
        <label for="title">&nbsp;Title:</label>
      </span>
      <input
        id="title"
        formControlName="title"
        type="text"
        placeholder="Title"
      />
    </div>
    <div class="titleContainer">
      <span class="formTitle">
        <i class="image-icon"></i>
        <label for="image">&nbsp;Image:</label>
      </span>
      <input
        type="file"
        id="image"
        formControlName="image"
        (change)="onFileSelected($event)"
      />
      @if (imageUrl) {
        Image Url: {{ imageUrl }}
      }
    </div>
    <div class="bodyContainer">
      <span class="formTitle">
        <i class="pencil-icon"></i>
        <label for="body">&nbsp;Body:</label>
      </span>
      <textarea
        id="body"
        formControlName="body"
        type="body"
        placeholder="Type here"
        cdkTextareaAutosize
        #autosize="cdkTextareaAutosize"
        cdkAutosizeMinRows="10"
        cdkAutosizeMaxRows="55"
      >
      </textarea>
    </div>
    <button
      (click)="saveDraft($event)"
      [class.disabled]="!isValidDraft"
      [disabled]="!isValidDraft"
    >
      Save Draft
    </button>
    <button
      type="submit"
      class="publishButton"
      [class.disabled]="!postForm.valid || autosaving"
      [disabled]="!postForm.valid || !autosaving"
    >
      Publish
    </button>
  </form>
</div>
